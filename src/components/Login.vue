<template>
  <div class="component">
    <div class="form_sing">
      <h1 class="text_sing">Вход</h1>
      <form class="registration" @submit.prevent="onSignin">
        <div class="form-group">
          <label for="login" class="col-form-label marg10">Логин</label>
          <div>
            <input
              type="text"
              class="form-control"
              placeholder="Логин"
              id="login"
              v-model="user.username"
            >
          </div>
        </div>
        <div class="form-group">
          <label for="password" class="col-sm-2 col-form-label marg10">Пароль</label>
          <div>
            <input
              type="password"
              class="form-control"
              id="password"
              placeholder="Пароль"
              v-model="user.password"
            >
          </div>
        </div>
        <div class="but_reg">
          <button href="#" type="submit" class="btn button_sl1">войти</button>
        </div>
      </form>
      <div class="icons_reg">
        <a href="#" class="soc_reg_a">
          <svg viewBox="0 0 24 24" width="40px" height="40px" class="fb">
            <path
              d="M19,3H5C3.895,3,3,3.895,3,5v14c0,1.105,0.895,2,2,2h7.621v-6.961h-2.343v-2.725h2.343V9.309 c0-2.324,1.421-3.591,3.495-3.591c0.699-0.002,1.397,0.034,2.092,0.105v2.43h-1.428c-1.13,0-1.35,0.534-1.35,1.322v1.735h2.7 l-0.351,2.725h-2.365V21H19c1.105,0,2-0.895,2-2V5C21,3.895,20.105,3,19,3z"
            ></path>
          </svg>
        </a>
        <a href="#" class="soc_reg_a">
          <svg
            viewBox="0 0 304.36 304.36"
            style="enable-background:new 0 0 304.36 304.36;"
            xml:space="preserve"
            class="vk"
            width="40px"
            height="40px"
          >
            <path
              id="XMLID_807_"
              style="fill-rule:evenodd;clip-rule:evenodd;"
              d="M261.945,175.576c10.096,9.857,20.752,19.131,29.807,29.982
    c4,4.822,7.787,9.798,10.684,15.394c4.105,7.955,0.387,16.709-6.746,17.184l-44.34-0.02c-11.436,0.949-20.559-3.655-28.23-11.474
    c-6.139-6.253-11.824-12.908-17.727-19.372c-2.42-2.642-4.953-5.128-7.979-7.093c-6.053-3.929-11.307-2.726-14.766,3.587
    c-3.523,6.421-4.322,13.531-4.668,20.687c-0.475,10.441-3.631,13.186-14.119,13.664c-22.414,1.057-43.686-2.334-63.447-13.641
    c-17.422-9.968-30.932-24.04-42.691-39.971C34.828,153.482,17.295,119.395,1.537,84.353C-2.01,76.458,0.584,72.22,9.295,72.07
    c14.465-0.281,28.928-0.261,43.41-0.02c5.879,0.086,9.771,3.458,12.041,9.012c7.826,19.243,17.402,37.551,29.422,54.521
    c3.201,4.518,6.465,9.036,11.113,12.216c5.142,3.521,9.057,2.354,11.476-3.374c1.535-3.632,2.207-7.544,2.553-11.434
    c1.146-13.383,1.297-26.743-0.713-40.079c-1.234-8.323-5.922-13.711-14.227-15.286c-4.238-0.803-3.607-2.38-1.555-4.799
    c3.564-4.172,6.916-6.769,13.598-6.769h50.111c7.889,1.557,9.641,5.101,10.721,13.039l0.043,55.663
    c-0.086,3.073,1.535,12.192,7.07,14.226c4.43,1.448,7.35-2.096,10.008-4.905c11.998-12.734,20.561-27.783,28.211-43.366
    c3.395-6.852,6.314-13.968,9.143-21.078c2.096-5.276,5.385-7.872,11.328-7.757l48.229,0.043c1.43,0,2.877,0.021,4.262,0.258
    c8.127,1.385,10.354,4.881,7.844,12.817c-3.955,12.451-11.65,22.827-19.174,33.251c-8.043,11.129-16.645,21.877-24.621,33.072
    C252.26,161.544,252.842,166.697,261.945,175.576L261.945,175.576z M261.945,175.576"
            ></path>
          </svg>
        </a>
        <a href="#" class="soc_reg_a">
          <svg
            class="tw"
            width="40px"
            height="40px"
            viewBox="0 0 512 512"
            style="enable-background:new 0 0 512 512;"
            xml:space="preserve"
          >
            <path
              d="M512,97.248c-19.04,8.352-39.328,13.888-60.48,16.576c21.76-12.992,38.368-33.408,46.176-58.016
      c-20.288,12.096-42.688,20.64-66.56,25.408C411.872,60.704,384.416,48,354.464,48c-58.112,0-104.896,47.168-104.896,104.992
      c0,8.32,0.704,16.32,2.432,23.936c-87.264-4.256-164.48-46.08-216.352-109.792c-9.056,15.712-14.368,33.696-14.368,53.056
      c0,36.352,18.72,68.576,46.624,87.232c-16.864-0.32-33.408-5.216-47.424-12.928c0,0.32,0,0.736,0,1.152
      c0,51.008,36.384,93.376,84.096,103.136c-8.544,2.336-17.856,3.456-27.52,3.456c-6.72,0-13.504-0.384-19.872-1.792
      c13.6,41.568,52.192,72.128,98.08,73.12c-35.712,27.936-81.056,44.768-130.144,44.768c-8.608,0-16.864-0.384-25.12-1.44
      C46.496,446.88,101.6,464,161.024,464c193.152,0,298.752-160,298.752-298.688c0-4.64-0.16-9.12-0.384-13.568
      C480.224,136.96,497.728,118.496,512,97.248z"
            ></path>
          </svg>
        </a>
        <a href="#" class="soc_reg_a">
          <svg
            class="github"
            width="40px"
            height="40px"
            viewBox="0 0 90 90"
            style="enable-background:new 0 0 90 90;"
            xml:space="preserve"
          >
            <g>
              <path
                id="Github__x28_alt_x29_"
                d="M65.709,10.5c1.17,2.657,1.928,7.07,0.797,10.301c4.625,3.949,6.215,13.549,3.982,21.394
    C77.08,42.698,84.932,41.953,90,43.976c-4.738-0.609-11.209-1.804-17.32-1.388c-1.158,0.079-2.873-0.044-2.789,1.585
    c7.074,0.555,14.104,1.16,19.912,2.973c-5.761-0.941-12.754-2.375-19.912-2.574c-2.957,5.835-8.908,8.703-17.123,9.307
    c0.883,1.922,2.574,2.653,2.987,5.744c0.616,4.618-0.964,11.381,0.595,14.459c0.748,1.475,1.967,1.514,2.789,2.775
    c-2.012,2.381-7-0.268-7.568-2.775c-0.973-4.295,1.482-10.953-1.192-13.865c0.188,4.685-1.108,11.264,0.199,15.449
    c0.515,1.646,2.002,2.281,1.593,3.766c-9.352,0.949-5.443-12.104-6.972-19.81c-1.411,0.101-0.791,2.113-0.796,2.972
    c-0.04,7.524,1.54,17.844-6.57,16.838c-0.237-1.582,1.088-2.119,1.593-3.563c1.479-4.233-0.277-10.542,0.401-15.651
    c-3.095,2.334,0.325,10.48-1.593,14.657c-1.105,2.404-4.666,3.45-7.367,2.377c0.352-1.79,2.2-1.501,2.984-3.169
    c1.096-2.324,0.008-5.674,0.399-9.111c-5.729,1.144-10.173-0.166-12.348-3.764c-0.973-1.615-1.214-3.52-2.39-4.951
    c-1.17-1.432-3.04-1.625-3.582-3.563c7.095-1.708,7.367,7.302,13.739,7.524c1.954,0.071,2.97-0.563,4.778-0.988
    c0.506-2.272,1.589-3.967,3.186-5.153c-7.929-1.085-14.477-3.554-17.522-9.504c-7.208,0.354-13.804,1.317-19.913,2.771
    c5.545-2.014,12.384-2.736,19.715-2.973c-0.432-2.596-4.219-1.882-6.57-1.782C8.973,42.781,3.473,43.324,0,43.976
    c5.034-1.795,12.098-1.571,18.918-1.585c-2.086-6.54-1.363-16.929,3.186-20.798C20.815,18.344,21.215,13.03,22.9,10.5
    c5.079,0.228,8.159,2.443,11.35,4.557c3.957-1.125,8.118-1.685,13.54-1.387c2.28,0.126,4.651,1.151,6.369,0.989
    c1.685-0.158,3.542-2.049,5.178-2.771C61.468,10.947,63.271,10.588,65.709,10.5z"
              ></path>
            </g>
          </svg>
        </a>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data: () => ({
    user: {
      username: "",
      password: ""
    }
  }),
  computed: {
    currentUser() {
      return this.$store.getters.user;
    }
  },
  watch: {
    currentUser(value) {
      if (value !== null && value !== undefined) {
        this.$router.push("/");
        this.$localStorage.set("token", value.auth_token, 864000000);
      }
    }
  },
  methods: {
    onSignin() {
      this.$store.dispatch("signUserIn", this.user);
    }
  }
};
</script>


<style scoped lang="less">
.form_sing {
  margin-top: 60px;
  max-width: 400px;
  margin: 0 auto;
}
.text_sing {
  text-align: center;
}
button[type="submit"] {
  font-size: 18px;
  font-family: "Poiret One", cursive;
  font-weight: bold;
  align-items: center;
  border-radius: 10px;
  min-width: 200px;
  margin-right: 30px;
  margin-left: 30px;
  background-color: #e85e2b;
  color: white;
}
</style>
